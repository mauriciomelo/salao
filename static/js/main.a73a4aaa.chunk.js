(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,n){e.exports=n(372)},368:function(e,t,n){},370:function(e,t,n){},372:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),o=n.n(i),s=n(70),c=n(27),l=n(149),u=n(49),m=n(9),p=n.n(m),h=n(18),d=n(373),f=n(150),g=n.n(f),v=["https://sheets.googleapis.com/$discovery/rest?version=v4"],b=new Promise(function(e){g()("https://apis.google.com/js/api.js",function(){window.gapi.load("client:auth2",function(){return e(window.gapi)})})}),y={getSession:function(){var e=Object(h.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b;case 2:return t=e.sent,e.next=5,t.client.init({apiKey:"AIzaSyB6G-3wgN7eBBJak-rl6EVvtkAmvSC5wVA",clientId:"626897179786-u8rj411ic3irrm9lp5poj1gi0q8ckurf.apps.googleusercontent.com",discoveryDocs:v,scope:"https://www.googleapis.com/auth/spreadsheets"});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},E="140eV5SZXTdnmZNM4lRVSAN6_zc4Upc-cchG8nNroo9E",S=["employee","item","gender","price","paymentStatus","client","commisson","date"],w=["name","price"],C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return{all:function(){var t=Object(h.a)(p.a.mark(function t(){var n,a,r,i;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSession();case 2:return n=t.sent,t.next=5,n.client.sheets.spreadsheets.values.get({spreadsheetId:E,range:"entrada!A2:H"});case 5:return a=t.sent,r=a.result.values||[],i=r.filter(function(e){return e.some(function(e){return e})}).map(function(e){var t={};return S.forEach(function(n,a){var r="price"===n||"commisson"===n;t[n]=r?Number(e[a]):e[a]}),t}),t.abrupt("return",i);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),fetchItems:function(){var t=Object(h.a)(p.a.mark(function t(){var n,a,r,i;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSession();case 2:return n=t.sent,t.next=5,n.client.sheets.spreadsheets.values.get({spreadsheetId:E,range:"servicos!A2:B"});case 5:return a=t.sent,r=a.result.values||[],i=r.filter(function(e){return e.some(function(e){return e})}).map(function(e){var t={};return w.forEach(function(n,a){var r=("price"===n||"commisson"===n)&&!d.a(e[a]);t[n]=r?Number(e[a]):e[a]}),t}),t.abrupt("return",i);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),addTransactions:function(){var t=Object(h.a)(p.a.mark(function t(n){var a,r,i,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSession();case 2:return a=t.sent,r={spreadsheetId:E,range:"entrada!A1:B",valueInputOption:"USER_ENTERED"},i=n.map(function(e){return[e.employee,e.item,e.gender,e.price,e.paymentStatus,e.client,e.commisson,e.date]}),o={majorDimension:"ROWS",range:"entrada!A1:B",values:i},t.next=8,a.client.sheets.spreadsheets.values.append(r,o);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},x=n(69),O=n(151),k=n(152),T=n(153),N=n(165),j=n(154),I=n(166),A=n(50),M=n.n(A),D=n(72),q=n.n(D),F=n(159),Y=n.n(F),L=n(28),P=n.n(L),R=n(102),_=n.n(R),B=n(155),W=n.n(B),G=n(157),V=n.n(G),z=n(158),H=n.n(z),U=n(39),J=n.n(U),Q=n(103),Z=n.n(Q),$=n(160),K=n.n($),X=n(161),ee=n.n(X),te=n(21),ne=n.n(te),ae=n(51),re=n.n(ae),ie=n(20),oe=n.n(ie),se=n(42),ce=n.n(se),le=n(162),ue=n.n(le),me=n(104),pe=n.n(me),he=n(163),de=n.n(he),fe=n(377),ge=n(378),ve=n(374),be=n(376),ye=n(375),Ee=n(41),Se=n.n(Ee),we=(n(179),n(164)),Ce={isSignedIn:function(){var e=Object(h.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getSession();case 2:return t=e.sent,e.abrupt("return",t.auth2.getAuthInstance().isSignedIn.get());case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),listen:function(){var e=Object(h.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getSession();case 2:e.sent.auth2.getAuthInstance().isSignedIn.listen(t);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),signIn:function(){var e=Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getSession();case 2:e.sent.auth2.getAuthInstance().signIn();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),signOut:function(){var e=Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getSession();case 2:e.sent.auth2.getAuthInstance().signOut();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()};Se()().locale("pt");var xe={employee:"",item:"",price:"",client:"",gender:"",commisson:"",paymentStatus:"",quantity:1,date:Se()().format("YYYY-MM-DDThh:mm")},Oe=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(N.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={transactionToSubmit:xe,isMessageOpen:!1},n.showMessage=function(){n.setState({isMessageOpen:!0})},n.handleClose=function(e,t){"clickaway"!==t&&n.setState({isMessageOpen:!1})},n.reset=function(){n.setState({transactionToSubmit:xe})},n.updateSigninStatus=function(e){n.setState({isSignedIn:e})},n.handleChange=function(e){return function(t){var a=t.target.value,r=Object(O.a)({},n.state.transactionToSubmit,Object(x.a)({},e,a));"item"===e&&a&&(r.price=n.props.items.find(function(e){return e.name===a}).price||""),n.setState({transactionToSubmit:r})}},n.handleSubmit=function(){var e=Object(h.a)(p.a.mark(function e(t){var a,r,i,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=fe.a(ge.a)(n.state.transactionToSubmit.quantity),r=function(e){return ve.a("date",Se()(e.date,"YYYY-MM-DDThh:mm").format("DD/MM/YYYY h:mm:ss"),e)},i=be.a(a,ye.a("quantity"),r),o=i(n.state.transactionToSubmit);try{n.props.onCreate(o),n.reset(),n.showMessage()}catch(s){n.setState({error:s.result.error})}case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.lastTransactions=function(){return Object(u.a)(n.props.transactions).reverse().slice(0,10)},n}return Object(I.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.isSignedIn();case 2:t=e.sent,Ce.listen(this.updateSigninStatus),this.updateSigninStatus(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleAuthClick",value:function(){Ce.signIn()}},{key:"handleSignoutClick",value:function(){Ce.signOut()}},{key:"render",value:function(){var e=this.props.classes;return this.state.error?"Ocorreu um erro, edite diretamente na planilha ou tente mais tarde":this.props.isLoading?r.a.createElement("div",{className:e.progressWrapper},r.a.createElement(W.a,null)):this.state.isSignedIn?r.a.createElement("div",{className:"App"},r.a.createElement(V.a,{position:"fixed"},r.a.createElement(H.a,null,r.a.createElement(J.a,{variant:"title",color:"inherit",className:e.flex},"Sal\xe3o (","0.2.0",")"),r.a.createElement(q.a,{color:"inherit",id:"signout_button",onClick:this.handleSignoutClick},"Sair"))),r.a.createElement("form",{className:e.container,onSubmit:this.handleSubmit,autoComplete:"off"},r.a.createElement(P.a,{required:!0,className:e.textField},r.a.createElement(_.a,{htmlFor:"item"},"Item"),r.a.createElement(Y.a,{native:!0,value:this.state.transactionToSubmit.item,onChange:this.handleChange("item"),name:"item",inputProps:{id:"item"}},r.a.createElement("option",{value:""}),this.props.items.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),r.a.createElement(M.a,{value:this.state.transactionToSubmit.price,label:"Pre\xe7o",type:"number",onChange:this.handleChange("price"),className:e.textField,required:!0}),r.a.createElement(M.a,{value:this.state.transactionToSubmit.quantity,label:"Quantidade",type:"number",inputProps:{required:!1,max:10,min:1},onChange:this.handleChange("quantity"),className:e.textField,required:!0}),r.a.createElement(P.a,{component:"fieldset",required:!0,className:e.textField},r.a.createElement(ce.a,{component:"legend"},"Colaborador"),r.a.createElement(re.a,{"aria-label":"employee",name:"employee",className:e.group,value:this.state.transactionToSubmit.employee,onChange:this.handleChange("employee")},r.a.createElement(oe.a,{value:"Maurilio",control:r.a.createElement(ne.a,{color:"primary",inputProps:{required:!0}}),label:"Maurilio"}),r.a.createElement(oe.a,{value:"Victor",control:r.a.createElement(ne.a,{color:"primary"}),label:"Victor"}),r.a.createElement(oe.a,{value:"Dan\xfabia",control:r.a.createElement(ne.a,{color:"primary"}),label:"Dan\xfabia"}),r.a.createElement(oe.a,{value:"Samuel",control:r.a.createElement(ne.a,{color:"primary"}),label:"Samuel"}))),r.a.createElement(P.a,{component:"fieldset",required:!0,className:e.textField},r.a.createElement(ce.a,{component:"legend"},"Comiss\xe3o"),r.a.createElement(re.a,{"aria-label":"commisson",name:"commisson",className:e.group,value:this.state.transactionToSubmit.commisson,onChange:this.handleChange("commisson")},r.a.createElement(oe.a,{value:"15",control:r.a.createElement(ne.a,{color:"primary",inputProps:{required:!0}}),label:"15%"}),r.a.createElement(oe.a,{value:"20",control:r.a.createElement(ne.a,{color:"primary"}),label:"20%"}),r.a.createElement(oe.a,{value:"30",control:r.a.createElement(ne.a,{color:"primary"}),label:"30%"}),r.a.createElement(oe.a,{value:"40",control:r.a.createElement(ne.a,{color:"primary"}),label:"40%"}))),r.a.createElement(P.a,{component:"fieldset",required:!0,className:e.textField},r.a.createElement(ce.a,{component:"legend"},"G\xeanero"),r.a.createElement(re.a,{"aria-label":"gender",name:"gender",className:e.group,value:this.state.transactionToSubmit.gender,onChange:this.handleChange("gender")},r.a.createElement(oe.a,{value:"F",control:r.a.createElement(ne.a,{color:"primary",inputProps:{required:!0}}),label:"Feminino"}),r.a.createElement(oe.a,{value:"M",control:r.a.createElement(ne.a,{color:"primary"}),label:"Masculino"}))),r.a.createElement(P.a,{component:"fieldset",required:!0,className:e.textField},r.a.createElement(ce.a,{component:"legend"},"Pagamento"),r.a.createElement(re.a,{"aria-label":"paymentStatus",name:"paymentStatus",className:e.group,value:this.state.transactionToSubmit.paymentStatus,onChange:this.handleChange("paymentStatus")},r.a.createElement(oe.a,{value:"pago",control:r.a.createElement(ne.a,{color:"primary",inputProps:{required:!0}}),label:"pago"}),r.a.createElement(oe.a,{value:"deve",control:r.a.createElement(ne.a,{color:"primary"}),label:"deve"}))),r.a.createElement(M.a,{value:this.state.transactionToSubmit.client,label:"Cliente",onChange:this.handleChange("client"),className:e.textField}),r.a.createElement(M.a,{value:this.state.transactionToSubmit.date,label:"Data",type:"datetime-local",onChange:this.handleChange("date"),className:e.textField}),r.a.createElement("br",null),r.a.createElement(q.a,{type:"submit",variant:"contained",color:"primary",className:e.submit},"Salvar")),r.a.createElement(J.a,{variant:"title",color:"inherit",className:e.title},"\xdaltimas vendas"),r.a.createElement(Z.a,null,this.lastTransactions().map(function(e,t){return r.a.createElement(K.a,{key:t},r.a.createElement(ee.a,{primary:"".concat(e.item," por ").concat(e.employee," ").concat(Se()(e.date,"DD/MM/YYYY h:mm:ss").calendar()," ")}))})),r.a.createElement(ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.isMessageOpen,autoHideDuration:2e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"Salvo com sucesso"),action:[r.a.createElement(pe.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:this.handleClose},r.a.createElement(de.a,null))]})):r.a.createElement(q.a,{color:"primary",variant:"contained",size:"large",id:"authorize_button",onClick:this.handleAuthClick},"Entrar")}}]),t}(a.Component),ke=Object(we.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},group:{display:"flex",flexDirection:"row"},flex:{flexGrow:1},textField:{marginBottom:e.spacing.unit,marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"100%"},title:{marginTop:40,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},submit:{marginTop:e.spacing.unit,marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"100%"},menu:{width:200},progressWrapper:{marginTop:"30%",textAlign:"center"}}})(Oe),Te="FETCH_TRANSACTIONS_SUCCESS",Ne="FETCH_ITEMS_SUCCESS",je="START_LOADING",Ie="FINISH_LOADING",Ae=function(){return function(){var e=Object(h.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:je}),e.next=3,C().all();case 3:n=e.sent,t({type:Te,payload:n}),t({type:Ie});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},Me=function(){return function(e){return C().fetchItems().then(function(t){return e({type:Ne,payload:t})})}},De=Object(s.b)(function(e){return{transactions:e.transactions,items:e.items,isLoading:e.isLoading}},function(e){return e(Ae()),e(Me()),{onCreate:function(t){e(function(e){return function(t){return C().addTransactions(e).then(function(){return t(Ae())})}}(t))}}})(ke),qe=Object(c.c)({transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(u.a)(t.payload);default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(u.a)(t.payload);default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case je:return!0;case Ie:return!1;default:return e}}}),Fe=(n(368),n(370),function(){return r.a.createElement(De,null)}),Ye=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Le(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Pe=Object(c.a)(l.a),Re=Object(c.d)(qe,void 0,Pe);o.a.render(r.a.createElement(s.a,{store:Re},r.a.createElement(Fe,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ye?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Le(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Le(e)})}}()}},[[168,2,1]]]);
//# sourceMappingURL=main.a73a4aaa.chunk.js.map