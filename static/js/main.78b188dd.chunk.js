(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,n){e.exports=n(211)},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),o=n.n(i),c=n(69),s=n(27),l=n(116),u=n(52),m=n(11),p=n.n(m),d=n(20),h=n(117),f=n.n(h),g=["https://sheets.googleapis.com/$discovery/rest?version=v4"],v=new Promise(function(e){f()("https://apis.google.com/js/api.js",function(){window.gapi.load("client:auth2",function(){return e(window.gapi)})})}),b={getSession:function(){var e=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v;case 2:return t=e.sent,e.next=5,t.client.init({apiKey:"AIzaSyB6G-3wgN7eBBJak-rl6EVvtkAmvSC5wVA",clientId:"626897179786-u8rj411ic3irrm9lp5poj1gi0q8ckurf.apps.googleusercontent.com",discoveryDocs:g,scope:"https://www.googleapis.com/auth/spreadsheets"});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},S=n(265),E="140eV5SZXTdnmZNM4lRVSAN6_zc4Upc-cchG8nNroo9E",y=["employee","item","gender","price","paymentStatus","client","commisson","date"],w=["name","price"],C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return{all:function(){var t=Object(d.a)(p.a.mark(function t(){var n,a,r,i;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSession();case 2:return n=t.sent,t.next=5,n.client.sheets.spreadsheets.values.get({spreadsheetId:E,range:"entrada!A2:H"});case 5:return a=t.sent,r=a.result.values||[],i=r.filter(function(e){return e.some(function(e){return e})}).map(function(e){var t=function(t){return e[Object(S.a)(t,y)]};return{employee:t("employee"),item:t("item"),price:Number(t("price")),client:t("client"),gender:t("gender"),commisson:Number(t("commisson")),paymentStatus:t("paymentStatus"),date:t("date")}}),t.abrupt("return",i);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),fetchItems:function(){var t=Object(d.a)(p.a.mark(function t(){var n,a,r,i;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSession();case 2:return n=t.sent,t.next=5,n.client.sheets.spreadsheets.values.get({spreadsheetId:E,range:"servicos!A2:B"});case 5:return a=t.sent,r=a.result.values||[],i=r.filter(function(e){return e.some(function(e){return e})}).map(function(e){var t=function(t){return e[Object(S.a)(t,w)]};return{name:t("name"),price:Number(t("price"))||void 0}}),t.abrupt("return",i);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),addTransactions:function(){var t=Object(d.a)(p.a.mark(function t(n){var a,r,i,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSession();case 2:return a=t.sent,r={spreadsheetId:E,range:"entrada!A1:B",valueInputOption:"USER_ENTERED"},i=n.map(function(e){return[e.employee,e.item,e.gender,e.price,e.paymentStatus,e.client,e.commisson,e.date]}),o={majorDimension:"ROWS",range:"entrada!A1:B",values:i},t.next=8,a.client.sheets.spreadsheets.values.append(r,o);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},O=n(60),x=n(118),T=n(119),j=n(120),k=n(128),N=n(121),I=n(129),A=n(263),D=n(256),M=n(123),F=n(259),q=n(260),Y=n(255),_=n(257),L=n(258),R=n(53),P=n(266),W=n(273),B=n(261),G=n(213),H=n(271),U=n(262),V=n(126),z=n.n(V),J=n(33),Q=n.n(J),Z=(n(150),n(272)),$=n(4),K={isSignedIn:function(){var e=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getSession();case 2:return t=e.sent,e.abrupt("return",t.auth2.getAuthInstance().isSignedIn.get());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),listen:function(){var e=Object(d.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getSession();case 2:e.sent.auth2.getAuthInstance().isSignedIn.listen(t);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),signIn:function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getSession();case 2:e.sent.auth2.getAuthInstance().signIn();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),signOut:function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getSession();case 2:e.sent.auth2.getAuthInstance().signOut();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},X=n(252),ee=n(249),te=n(251),ne=function(e){var t=e.transaction,n=t.item,a=t.employee,i=t.date;return r.a.createElement(ee.a,null,r.a.createElement(te.a,null,"".concat(n," por ").concat(a," ").concat(Q()(i,"DD/MM/YYYY h:mm:ss").calendar())))},ae=function(e){var t=e.transactions;return r.a.createElement(X.a,null,t.map(function(e,t){return r.a.createElement(ne,{key:t,transaction:e})}))},re=n(268),ie=n(269),oe=n(270),ce=n(253),se=n(264),le=n(254);Q()().locale("pt");var ue={employee:"",item:"",price:void 0,client:"",gender:"",commisson:void 0,paymentStatus:"",quantity:1,date:Q()().format("YYYY-MM-DDThh:mm")},me=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(k.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).state={transactionToSubmit:ue,isMessageOpen:!1,error:null},n.showMessage=function(){n.setState({isMessageOpen:!0})},n.handleClose=function(e,t){"clickaway"!==t&&n.setState({isMessageOpen:!1})},n.reset=function(){n.setState({transactionToSubmit:ue})},n.updateSigninStatus=function(e){n.setState({isSignedIn:e})},n.handleChange=function(e){return function(t){var a=Object(re.a)(null,["target","value"],t),r=Object(x.a)({},n.state.transactionToSubmit,Object(O.a)({},e,a));if("item"===e&&a){var i=n.props.items.find(function(e){return e.name===a});r.price=i?i.price:void 0}n.setState({transactionToSubmit:r})}},n.handleSubmit=function(){var e=Object(d.a)(p.a.mark(function e(t){var a,r,i,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=Object(ie.a)(oe.a)(n.state.transactionToSubmit.quantity),r=function(e){return Object(ce.a)("date",Q()(e.date,"YYYY-MM-DDThh:mm").format("DD/MM/YYYY h:mm:ss"),e)},i=Object(se.a)(a,Object(le.a)("quantity"),r),o=i(n.state.transactionToSubmit);try{n.props.onCreate(o),n.reset(),n.showMessage()}catch(c){n.setState({error:c.result.error})}case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.lastTransactions=function(){return Object(u.a)(n.props.transactions).reverse().slice(0,10)},n}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.isSignedIn();case 2:t=e.sent,K.listen(this.updateSigninStatus),this.updateSigninStatus(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleAuthClick",value:function(){K.signIn()}},{key:"handleSignoutClick",value:function(){K.signOut()}},{key:"render",value:function(){var e=this.props.classes;return this.state.error?"Ocorreu um erro, edite diretamente na planilha ou tente mais tarde":this.props.isLoading?r.a.createElement("div",{className:e.progressWrapper},r.a.createElement(Y.a,null)):this.state.isSignedIn?r.a.createElement("div",{className:"App"},r.a.createElement(_.a,{position:"fixed"},r.a.createElement(L.a,null,r.a.createElement(R.a,{variant:"subtitle1",color:"inherit",className:e.flex},"Sal\xe3o (","0.3.2",")"),r.a.createElement(D.a,{color:"inherit",id:"signout_button",onClick:this.handleSignoutClick},"Sair"))),r.a.createElement("form",{className:e.container,onSubmit:this.handleSubmit,autoComplete:"off"},r.a.createElement(F.a,{required:!0,className:e.textField},r.a.createElement(q.a,{htmlFor:"item"},"Item"),r.a.createElement(M.a,{value:this.state.transactionToSubmit.item,onChange:this.handleChange("item"),name:"item",inputProps:{id:"item"}},r.a.createElement("option",{value:""}),this.props.items.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),r.a.createElement(A.a,{value:this.state.transactionToSubmit.price||"",label:"Pre\xe7o",type:"number",onChange:this.handleChange("price"),className:e.textField,required:!0}),r.a.createElement(A.a,{value:this.state.transactionToSubmit.quantity,label:"Quantidade",type:"number",inputProps:{required:!1,max:10,min:1},onChange:this.handleChange("quantity"),className:e.textField,required:!0}),r.a.createElement(F.a,{component:"fieldset",required:!0,className:e.textField},r.a.createElement(G.a,{component:"legend"},"Colaborador"),r.a.createElement(W.a,{"aria-label":"employee",name:"employee",className:e.group,value:this.state.transactionToSubmit.employee,onChange:this.handleChange("employee")},r.a.createElement(B.a,{value:"Maurilio",control:r.a.createElement(P.a,{color:"primary",inputProps:{required:!0}}),label:"Maurilio"}),r.a.createElement(B.a,{value:"Victor",control:r.a.createElement(P.a,{color:"primary"}),label:"Victor"}),r.a.createElement(B.a,{value:"Dan\xfabia",control:r.a.createElement(P.a,{color:"primary"}),label:"Dan\xfabia"}),r.a.createElement(B.a,{value:"Samuel",control:r.a.createElement(P.a,{color:"primary"}),label:"Samuel"}))),r.a.createElement(F.a,{component:"fieldset",required:!0,className:e.textField},r.a.createElement(G.a,{component:"legend"},"Comiss\xe3o"),r.a.createElement(W.a,{"aria-label":"commisson",name:"commisson",className:e.group,value:"".concat(this.state.transactionToSubmit.commisson),onChange:this.handleChange("commisson")},r.a.createElement(B.a,{value:"15",control:r.a.createElement(P.a,{color:"primary",inputProps:{required:!0}}),label:"15%"}),r.a.createElement(B.a,{value:"20",control:r.a.createElement(P.a,{color:"primary"}),label:"20%"}),r.a.createElement(B.a,{value:"30",control:r.a.createElement(P.a,{color:"primary"}),label:"30%"}),r.a.createElement(B.a,{value:"40",control:r.a.createElement(P.a,{color:"primary"}),label:"40%"}))),r.a.createElement(F.a,{component:"fieldset",required:!0,className:e.textField},r.a.createElement(G.a,{component:"legend"},"G\xeanero"),r.a.createElement(W.a,{"aria-label":"gender",name:"gender",className:e.group,value:this.state.transactionToSubmit.gender,onChange:this.handleChange("gender")},r.a.createElement(B.a,{value:"F",control:r.a.createElement(P.a,{color:"primary",inputProps:{required:!0}}),label:"Feminino"}),r.a.createElement(B.a,{value:"M",control:r.a.createElement(P.a,{color:"primary"}),label:"Masculino"}))),r.a.createElement(F.a,{component:"fieldset",required:!0,className:e.textField},r.a.createElement(G.a,{component:"legend"},"Pagamento"),r.a.createElement(W.a,{"aria-label":"paymentStatus",name:"paymentStatus",className:e.group,value:this.state.transactionToSubmit.paymentStatus,onChange:this.handleChange("paymentStatus")},r.a.createElement(B.a,{value:"pago",control:r.a.createElement(P.a,{color:"primary",inputProps:{required:!0}}),label:"pago"}),r.a.createElement(B.a,{value:"deve",control:r.a.createElement(P.a,{color:"primary"}),label:"deve"}))),r.a.createElement(A.a,{value:this.state.transactionToSubmit.client,label:"Cliente",onChange:this.handleChange("client"),className:e.textField}),r.a.createElement(A.a,{value:this.state.transactionToSubmit.date,label:"Data",type:"datetime-local",onChange:this.handleChange("date"),className:e.textField}),r.a.createElement("br",null),r.a.createElement(D.a,{type:"submit",variant:"contained",color:"primary",className:e.submit},"Salvar")),r.a.createElement(R.a,{variant:"subtitle1",color:"inherit",className:e.title},"\xdaltimas vendas"),r.a.createElement(ae,{transactions:this.lastTransactions()}),r.a.createElement(H.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.isMessageOpen,autoHideDuration:2e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"Salvo com sucesso"),action:[r.a.createElement(U.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.handleClose},r.a.createElement(z.a,null))]})):r.a.createElement(D.a,{color:"primary",variant:"contained",size:"large",id:"authorize_button",onClick:this.handleAuthClick},"Entrar")}}]),t}(a.Component),pe=Object($.a)(function(e){return Object(Z.a)({container:{display:"flex",flexWrap:"wrap"},group:{display:"flex",flexDirection:"row"},flex:{flexGrow:1},textField:{marginBottom:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},title:{marginTop:40,marginLeft:e.spacing(1),marginRight:e.spacing(1)},submit:{marginTop:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},menu:{width:200},progressWrapper:{marginTop:"30%",textAlign:"center"}})})(me),de=function(){return function(){var e=Object(d.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),e.next=3,C().all();case 3:n=e.sent,t({type:"FETCH_TRANSACTIONS_SUCCESS",payload:n}),t({type:"FINISH_LOADING"});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},he=Object(c.b)(function(e){return{transactions:e.transactions,items:e.items,isLoading:e.isLoading}},function(e){return e(de()),e(function(e){return C().fetchItems().then(function(t){return e({type:"FETCH_ITEMS_SUCCESS",payload:t})})}),{onCreate:function(t){e(function(e){return function(t){return C().addTransactions(e).then(function(){return t(de())})}}(t))}}})(pe),fe=Object(s.combineReducers)({transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TRANSACTIONS_SUCCESS":return Object(u.a)(t.payload);default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITEMS_SUCCESS":return Object(u.a)(t.payload);default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}}}),ge=(n(209),n(210),function(){return r.a.createElement(he,null)}),ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function be(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Se=n(127),Ee=Object(s.applyMiddleware)(l.a),ye=Object(s.createStore)(fe,Object(Se.composeWithDevTools)(Ee));o.a.render(r.a.createElement(c.a,{store:ye},r.a.createElement(ge,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/salao",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/salao","/service-worker.js");ve?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):be(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):be(e)})}}()}},[[139,1,2]]]);
//# sourceMappingURL=main.78b188dd.chunk.js.map